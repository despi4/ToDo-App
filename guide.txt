Общие принципы перед реализацией

Интерфейс должен быть полезным — методы принимают данные, которые им нужны, и возвращают данные/ошибки. Это упрощает использование сервисом и тестирование.
Репозиторий — единственный владелец хранения: он должен знать формат хранения (map, файлы, БД) и скрывать эти детали от сервиса.
Возвращай ошибки явно — чтобы сервис мог корректно реагировать (например, вернуть 404 или 400).
За ID и их уникальность отвечает репозиторий (если нет внешней БД, то репозиторий генерирует ID).
Параллельный доступ: если хранилище в памяти — добавь защиту (mutex/lock) вокруг чтения/записи.